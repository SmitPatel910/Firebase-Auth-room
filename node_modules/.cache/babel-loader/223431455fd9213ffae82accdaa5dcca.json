{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Smit\\\\OneDrive\\\\Desktop\\\\RTC-React\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Smit\\\\OneDrive\\\\Desktop\\\\RTC-React\\\\Frontend\\\\src\\\\pages\\\\Signup\\\\Email\\\\EmailSignUp.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { withRouter, Redirect } from \"react-router\";\nimport { firebase, auth } from \"../../../base\";\nimport { AuthContext } from \"../../../Auth.js\";\nimport Card from '../../../components/shared/Card/Card';\nimport Button from '../../../components/shared/Button/Button';\nimport styles from '../SignupEmail.module.css';\nimport styless from './Email-textInput.module.css';\nimport { Link } from 'react-router-dom';\n\nconst EmailSignUp = ({\n  history\n}) => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setemail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setpassword = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        Cpassword = _useState6[0],\n        setCpassword = _useState6[1];\n\n  async function SignUp() {\n    if (password === Cpassword) {\n      try {\n        await firebase.auth().createUserWithEmailAndPassword(email.trim(), password).then(resp => {\n          window.userId = resp.user.uid;\n          window.email = resp.user.email;\n          firebase.auth().onAuthStateChanged(function (user) {\n            if (user) {\n              // user.updatePhoneNumber(resp);\n              user.updateProfile({\n                displayName: window.userName,\n                phoneNumber: window.phoneNumber,\n                emailVerified: true,\n                photoURL: \"https://static3.depositphotos.com/1004996/226/i/950/depositphotos_2260019-stock-photo-glowing-font-shiny-letter-s.jpg\"\n              }).then(() => {\n                console.log(window.email, window.userId, window.userName, window.phoneNumber);\n                resp.user.sendEmailVerification();\n                alert(\"Email Sent\");\n              }).catch(error => {\n                console.log(error);\n              });\n            }\n          });\n        });\n        history.push('/room');\n      } catch (error) {\n        alert(error);\n      }\n\n      ;\n    } else {\n      alert(\"Confirm Password does not match!\");\n    }\n  }\n\n  ;\n\n  const _useContext = useContext(AuthContext),\n        currentUser = _useContext.currentUser;\n\n  if (currentUser) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/room\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    title: \"Signup with Email\",\n    icon: \"email-emoji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: styless.input,\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: e => {\n      setemail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: styless.input,\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: e => {\n      setpassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: styless.input,\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    onChange: e => {\n      setCpassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.actionButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    text: \"SignUp\",\n    onNext: SignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.bottomParagraph,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"By entering your email, you\\u2019re agreeing to our Terms of Service and Privacy Policy. Thanks!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styless.signins,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styless.hasInvites,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \" Have an invite text?\"), /*#__PURE__*/React.createElement(Link, {\n    className: styless.signinLinks,\n    to: \"./login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"SignIn\")));\n};\n\nexport default withRouter(EmailSignUp);","map":{"version":3,"sources":["C:/Users/Smit/OneDrive/Desktop/RTC-React/Frontend/src/pages/Signup/Email/EmailSignUp.jsx"],"names":["React","useState","useContext","withRouter","Redirect","firebase","auth","AuthContext","Card","Button","styles","styless","Link","EmailSignUp","history","email","setemail","password","setpassword","Cpassword","setCpassword","SignUp","createUserWithEmailAndPassword","trim","then","resp","window","userId","user","uid","onAuthStateChanged","updateProfile","displayName","userName","phoneNumber","emailVerified","photoURL","console","log","sendEmailVerification","alert","catch","error","push","currentUser","input","e","target","value","actionButton","bottomParagraph","signins","hasInvites","signinLinks"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { withRouter, Redirect } from \"react-router\";\r\nimport {firebase,auth} from \"../../../base\";\r\nimport { AuthContext } from \"../../../Auth.js\";\r\nimport Card from '../../../components/shared/Card/Card';\r\nimport Button from '../../../components/shared/Button/Button';\r\nimport styles from '../SignupEmail.module.css';\r\nimport styless from './Email-textInput.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst EmailSignUp = ({ history }) => {\r\n    const [email , setemail] = useState('');\r\n    const [password , setpassword] = useState('');\r\n    const [Cpassword , setCpassword] = useState('');\r\n\r\n    \r\n    async function SignUp(){\r\n            if(password === Cpassword){\r\n                try{\r\n                    await firebase.auth().createUserWithEmailAndPassword(email.trim() , password)\r\n                    .then(resp => { \r\n                        window.userId = resp.user.uid;\r\n                        window.email = resp.user.email;                    \r\n                        firebase.auth().onAuthStateChanged(function(user) {\r\n                            if(user){\r\n                                // user.updatePhoneNumber(resp);\r\n                                user.updateProfile({\r\n                                    displayName: window.userName,\r\n                                    phoneNumber: window.phoneNumber,\r\n                                    emailVerified: true,\r\n                                    photoURL: \"https://static3.depositphotos.com/1004996/226/i/950/depositphotos_2260019-stock-photo-glowing-font-shiny-letter-s.jpg\"\r\n                                })\r\n                                .then(() => {\r\n                                    console.log(window.email,window.userId,window.userName,window.phoneNumber);\r\n                                    resp.user.sendEmailVerification();\r\n                                    alert(\"Email Sent\")\r\n                                })\r\n                                .catch((error) => {\r\n                                    console.log(error);\r\n                                }); \r\n                                \r\n                            }\r\n                                \r\n                        })\r\n                    });\r\n                    history.push('/room')  \r\n                    \r\n                } \r\n                catch (error) {\r\n                    alert(error);\r\n                };                    \r\n            }\r\n            else{\r\n                alert(\"Confirm Password does not match!\");\r\n            }\r\n        };\r\n        \r\n    \r\n    const { currentUser } = useContext(AuthContext);\r\n    if (currentUser) {\r\n        return <Redirect to=\"/room\" />;\r\n    }\r\n\r\n    return (\r\n        <Card title=\"Signup with Email\" icon=\"email-emoji\">\r\n\r\n            <input className={styless.input}  type=\"email\" placeholder=\"Email\" onChange={(e)=>{setemail(e.target.value)}}/>  \r\n                <br/>\r\n            <input className={styless.input}  type=\"password\" placeholder=\"Password\" onChange={(e)=>{setpassword(e.target.value)}}/>  \r\n                <br/>\r\n            <input className={styless.input}  type=\"password\" placeholder=\"Confirm Password\" onChange={(e)=>{setCpassword(e.target.value)}}/>\r\n                <br />\r\n            <div className={styles.actionButton}>\r\n                <Button text=\"SignUp\" onNext={SignUp}></Button> \r\n            </div>\r\n                \r\n            <p className={styles.bottomParagraph}>\r\n                By entering your email, youâ€™re agreeing to our\r\n                Terms of Service and Privacy Policy. Thanks! \r\n            </p>\r\n\r\n            <div className={styless.signins}>\r\n                    <span className={styless.hasInvites}> Have an invite text?</span>\r\n                    <Link className={styless.signinLinks} to=\"./login\">SignIn</Link>\r\n            </div>\r\n        </Card>\r\n    )\r\n   \r\n}\r\n\r\nexport default withRouter(EmailSignUp);\r\n"]},"metadata":{},"sourceType":"module"}